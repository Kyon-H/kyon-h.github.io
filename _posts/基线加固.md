---
layout: post
title: 基线加固
subtitle: 基线加固
date: 2025-09-18 11:33
author: Kyon-H
header-img: img/post-bg-2015.jpg
tags:
number headings: 
published: false
---

根据提供的参考材料，基线加固方法主要涉及操作系统（如Linux和Windows）、网络、应用、数据库等多个层面的安全配置。以下是详细的方法分类说明：

---

### **一、Linux系统加固方法**

#### 1. **账号与权限管理**
- **限制`su`命令使用**：  
  在`/etc/pam.d/su`文件中添加以下两行，仅允许`wheel`组成员通过`su`命令切换为`root`用户：  
  `auth sufficient pam_rootok.so`  
  `auth required pam_wheel.so group=wheel`  
  将用户添加到`wheel`组的命令为：`usermod -G wheel username` [1]。  
- **禁止系统账号交互式登录**：  
  修改`/etc/shadow`文件，将系统账号（如`daemon`、`bin`、`sys`等）的密码列改为`!!`，或直接删除账号（`userdel username`）[1][3]。  
- **检查密码重复使用限制**：  
  在`/etc/pam.d/system-auth`（Redhat）或`/etc/pam.d/common-password`（Suse）中配置`password sufficient pam_unix.so ... remember=5`，限制密码重复使用次数为5次 [1]。  
- **配置最小权限**：  
  设置关键文件权限：`/etc/passwd`（644）、`/etc/group`（644）、`/etc/shadow`（600）[3]。  

#### 2. **服务与网络配置**
- **禁用不必要服务**：  
  关闭非必需的系统服务（如NFS、FTP等），仅保留必要服务在运行列表中 [3][5]。  
- **关闭数据包转发**：  
  执行`sysctl -w net.ipv4.ip_forward=0`禁用数据包转发（非路由必需系统）[3]。  
- **限制NFS服务访问**：  
  编辑`/etc/hosts.allow`限制IP访问，或停止NFS服务（`/etc/init.d/nfs stop`）[5]。  

#### 3. **安全审计与日志**
- **设置SSH登录Banner**：  
  修改`/etc/motd`文件，添加登录提示信息（如“活动将被监控”）[5]。  
- **禁用危险组合键**：  
  注释`/etc/inittab`中的`ca::ctrlaltdel:/sbin/shutdown`行（Centos7.x需修改`ctrl-alt-del.target`）[4]。  

#### 4. **其他加固措施**
- **安装系统补丁**：  
  通过`OnlineUpdate`或`Patch CD Update`等方式定期更新OS补丁 [5]。  
- **禁用root直接SSH登录**：  
  修改SSH配置文件，禁止`root`用户直接远程登录 [6]。  

---

### **二、Windows系统加固方法**
- **端口与协议**：  
  修改默认远程桌面端口（如3389），禁用445端口，关闭ping服务 [6]。  
- **密码策略**：  
  启用密码复杂性要求（长度≥8位），设置最长密码存留期30天 [6]。  
- **安全策略**：  
  禁止SAM账户匿名枚举，阻止注册表编辑工具访问 [6]。  
- **防火墙与共享**：  
  开启Windows防火墙，关闭默认共享 [6]。  

---

### **三、Web应用加固**
- **输入验证与输出编码**：过滤用户输入，对输出数据编码 [2]。  
- **身份认证与访问控制**：实施强认证机制（如多因素认证）和基于角色的访问控制（RBAC）[2]。  
- **会话管理**：使用HTTPS安全传输，设置会话超时 [2]。  
- **安全配置**：加密敏感数据存储，定期更新依赖库补丁 [2]。  

---

### **四、数据库加固**
- **权限与认证**：禁用默认账户，配置最小权限原则 [2]。  
- **数据加密**：对传输和存储的数据加密（如SSL/TLS、透明数据加密）[2]。  
- **审计与备份**：启用数据库审计功能，定期备份并验证备份数据 [2]。  

---

### **五、网络加固**
- **设备安全**：更新网络设备固件，配置强认证和访问控制列表（ACL）[2]。  
- **架构防护**：网络分段（如DMZ区）、部署防火墙/IDS/IPS，配置安全VPN [2]。  

---

### **六、数据加固**
- **加密与备份**：  
  - 传输加密（SSL/TLS）、存储加密（如全盘加密、文件加密）[2]。  
  - 定期异地备份，限制备份数据访问权限 [2]。  
- **脱敏**：对敏感数据进行脱敏处理 [2]。  

---

以上方法综合了操作系统、网络、应用等多维度的安全基线配置，可根据实际需求选择实施。详细操作步骤可参考对应引用来源 [1][2][3][5][6]。
[1] [D:\MyComputer\OneDrive\documents\PDF\内网渗透资料\linux基线配置文档2.2.pdf](D:\MyComputer\OneDrive\documents\PDF\内网渗透资料\linux基线配置文档2.2.pdf)

[D:\MyComputer\OneDrive\documents\渗透测试\Pentest_Interview\面经 4.0.md](D:\MyComputer\OneDrive\documents\渗透测试\Pentest_Interview\面经4.0.md)


[linux基线配置文档](D:\MyComputer\OneDrive\documents\PDF\内网渗透资料\linux基线配置文档2.2.pdf)

[6] [windows加固
1.windows加固方法...置登陆超时时间为10分钟，结束非法登录用户
](windows加固
1.windows加固方法...置登陆超时时间为10分钟，结束非法登录用户
)